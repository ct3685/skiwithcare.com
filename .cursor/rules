# SkiWithCare — AI Collaboration Rules

**Author:** Cameron Taylor ([@ct3685](https://github.com/ct3685))

---

## Brand Fundamentals

**Product Name:** SkiWithCare

- CamelCase in code identifiers: `SkiWithCare`, `skiWithCare`
- Human-facing prose: "Ski With Care" or "SkiWithCare"
- Domain: skiwithcare.com

**Primary Tagline:** Care Near the Slopes

**Mission:** Help dialysis patients and caregivers plan ski trips by finding dialysis clinics near ski resorts.

---

## Official Brand Colors (from Logo)

The logo features:

- **Pink** `#e879a0` — Skier silhouette, mountain peak, medical cross
- **Cyan** `#64d9f7` — Flowing wave element
- **Dark Background** `#0f0a12` — Deep purple-black

These match the **Rose** theme (default). The logo should always appear on dark backgrounds for best contrast.

---

## Tone & Voice

**Be:** Calm, reassuring, trustworthy, competent, supportive

**Avoid:**

- Extreme-sports vibe ("shred", "epic", "gnarly")
- Hype language ("amazing", "incredible", "game-changer")
- Fear tactics or urgency ("don't miss out", "act now")
- Overly clinical jargon ("hemodialysis facility", "renal replacement")

**Preferred Language:**

- care, nearby, planning, support, confidence
- access, coordinate, trip, clinic, resort
- find, discover, explore, prepare

---

## Three Color Themes (Preserve These)

The project has three color themes that must be preserved:

1. **Rose** — Pink (#e879a0) + Cyan (#64d9f7)

   - Warm, caring, approachable
   - Default theme

2. **Alpine** — Coral (#f97316) + Ice Blue (#38bdf8)

   - Adventurous, sunset warmth
   - Energetic but not extreme

3. **Glacier** — Teal (#14b8a6) + Blue (#3b82f6)
   - Cool, serene, calming
   - Winter ice tones

Each theme has light and dark variants. Always maintain this theming system.

---

## UX & Content Rules

1. **Prioritize clarity and user trust** over cleverness
2. **Microcopy should reduce anxiety** and be action-oriented (no pressure)
3. **Accessibility first:** contrast, readable headings, predictable layout
4. **Mobile-first:** All features must work well on mobile devices
5. **No external dependencies** where possible (vanilla JS preferred)

---

## Engineering & Naming

- Component names: PascalCase, brand-prefixed when relevant
- Function names: camelCase, descriptive
- CSS variables: `--accent-primary`, `--bg-primary`, etc.
- GA4 events: snake_case, descriptive (`theme_change`, `near_me_click`)
- Keep configuration centralized in CSS variables

---

## File Structure

```
├── public/           # Deployed assets only
│   ├── index.html    # Main app (single-page)
│   ├── *.json        # Generated data
│   └── *.png         # Logo/icons
├── .cursor/          # AI collaboration rules
├── epic_davita.py    # Data generator
└── netlify.toml      # Deploy config
```

---

## When Making Changes

1. Honor the three themes (Rose, Alpine, Glacier)
2. Keep copy calm and supportive
3. Test on mobile viewports
4. Maintain accessibility standards
5. Update this file if brand guidelines evolve

---

## Architecture (React Rebuild)

**Stack:** React 18 + TypeScript + Vite + Tailwind CSS

**State Management:** Zustand

### Project Structure

```
├── src/
│   ├── components/
│   │   ├── ui/           # Button, Badge, Modal, Toast, Spinner
│   │   ├── layout/       # Header, Sidebar, MobileNav, SettingsDrawer
│   │   ├── cards/        # ResortCard, ClinicCard, HospitalCard
│   │   ├── filters/      # SearchBox, StateFilter, DistanceSlider
│   │   └── map/          # MapView, Markers, Clusters
│   ├── hooks/            # useResorts, useClinics, useGeolocation
│   ├── stores/           # Zustand stores (filter, selection, location, settings)
│   ├── types/            # TypeScript interfaces
│   ├── utils/            # haversine, formatters, analytics
│   └── styles/           # Theme CSS variables
├── scripts/              # Python data generators
├── public/data/          # Generated JSON files
└── e2e/                  # Playwright E2E tests
```

### Naming Conventions

| Type | Convention | Example |
|------|------------|---------|
| Components | PascalCase | `ResortCard`, `SettingsDrawer` |
| Hooks | camelCase with `use` prefix | `useResorts`, `useGeolocation` |
| Stores | camelCase with `Store` suffix | `filterStore`, `settingsStore` |
| Files | kebab-case | `resort-card.tsx`, `use-resorts.ts` |
| CSS Variables | `--category-name` | `--accent-primary`, `--bg-card` |
| Test IDs | kebab-case | `data-testid="resort-card"` |

### Data Flow

```
Python Scripts → JSON Files → React App → Zustand Stores → Components
     ↓                            ↓
  (build time)              (runtime fetch)
```

1. Python scripts generate JSON at build time
2. React app fetches JSON on load
3. Zustand stores manage client state
4. Components subscribe to stores via hooks

### Key Stores

| Store | Purpose |
|-------|---------|
| `filterStore` | Search query, state filter, distance, pass/care type filters |
| `selectionStore` | Current mode, selected/expanded items |
| `locationStore` | User geolocation state |
| `settingsStore` | Theme, dark mode, units, defaults, drawer state |

### Settings Drawer

All user preferences live in the Settings Drawer (gear icon in header):
- Theme selection (Rose/Alpine/Glacier)
- Mode (Dark/Light/Auto)
- Distance units (Miles/Kilometers)
- Default view and distance

### Commit Conventions

```
feat: add new feature
fix: bug fix
chore: maintenance tasks
docs: documentation updates
test: test additions/updates
refactor: code refactoring
```

Always run before committing:
```bash
npm run lint && npm run typecheck && npm run build
```

### Testing Strategy

- **Unit tests** (Vitest): Utils, store logic
- **Component tests** (React Testing Library): UI interactions
- **E2E tests** (Playwright): Full user flows
